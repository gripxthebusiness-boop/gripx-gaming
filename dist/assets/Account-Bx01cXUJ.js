import{c as Y,x as W,r as t,j as e,U as C,X as Z,C as ee}from"./index-DUEh2Zwo.js";import{S as se}from"./shield-i454e3yd.js";import{S as re}from"./save-vMj_kO7L.js";import{M as ae}from"./mail-ClDTRwwU.js";import{P as te}from"./phone-KNKbfk-w.js";import{L as R,E as k,a as E}from"./lock-Com44lqs.js";import{T as D}from"./trash-2-Dim5Vnw4.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X=Y("check",ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A=Y("triangle-alert",le);function pe(){const{user:r,loading:d,error:ce,updateProfile:B,changePassword:G,deleteAccount:H,clearError:q,validatePasswordStrength:L}=W(),[x,p]=t.useState(!1),[m,g]=t.useState({username:"",email:"",phone:""}),[M,w]=t.useState(null),[T,b]=t.useState(null),[U,f]=t.useState(!1),[n,y]=t.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,j]=t.useState({current:!1,new:!1,confirm:!1}),[I,o]=t.useState(null),[O,h]=t.useState(null),[a,_]=t.useState(null),[J,z]=t.useState(!1),[u,$]=t.useState(""),[F,i]=t.useState(null);t.useEffect(()=>{r&&g({username:r.username||"",email:r.email||"",phone:r.phone||""})},[r]),t.useEffect(()=>{q(),w(null),b(null),o(null),h(null),i(null)},[r,q]),t.useEffect(()=>{n.newPassword?_(L(n.newPassword)):_(null)},[n.newPassword,L]);const N=s=>{const{name:l,value:P}=s.target;g(S=>({...S,[l]:P}))},K=async s=>{s.preventDefault(),w(null),b(null);try{await B(m),b("Profile updated successfully!"),p(!1)}catch(l){w(l.message)}},v=s=>{const{name:l,value:P}=s.target;y(S=>({...S,[l]:P}))},Q=async s=>{if(s.preventDefault(),o(null),h(null),n.newPassword!==n.confirmPassword){o("New passwords do not match");return}if(n.currentPassword===n.newPassword){o("New password must be different from current password");return}try{await G(n.currentPassword,n.newPassword),h("Password changed successfully!"),y({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1)}catch(l){o(l.message)}},V=async()=>{if(i(null),!u){i("Please enter your password to confirm account deletion");return}try{await H(u)}catch(s){i(s.message)}};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black pt-24 px-6 pb-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Account Settings"}),e.jsx("p",{className:"text-gray-400",children:"Manage your profile and account preferences"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-cyan-500/20 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-cyan-500/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Profile Information"})]}),x?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{p(!1),g({username:r.username||"",email:r.email||"",phone:r.phone||""})},className:"p-2 text-gray-400 hover:text-white transition-colors",children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:K,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors disabled:opacity-50",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]})]}):e.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 text-sm font-medium text-cyan-400 hover:text-cyan-300 transition-colors",children:"Edit Profile"})]}),e.jsxs("div",{className:"p-6",children:[T&&e.jsxs("div",{className:"mb-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center space-x-3",children:[e.jsx(X,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400",children:T})]}),M&&e.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-3",children:[e.jsx(A,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-400",children:M})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Username"})]}),x?e.jsx("input",{type:"text",name:"username",value:m.username,onChange:N,className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors"}):e.jsx("p",{className:"px-4 py-3 bg-gray-800/30 rounded-lg text-white font-medium",children:r.username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Email"})]}),x?e.jsx("input",{type:"email",name:"email",value:m.email,onChange:N,className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors"}):e.jsx("p",{className:"px-4 py-3 bg-gray-800/30 rounded-lg text-white font-medium",children:r.email})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"Phone Number"})]}),x?e.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:N,placeholder:"Enter your phone number",className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors"}):e.jsx("p",{className:"px-4 py-3 bg-gray-800/30 rounded-lg text-white font-medium",children:r.phone||"Not set"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-cyan-500/20 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-cyan-500/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Password"})]}),!U&&e.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-sm font-medium text-cyan-400 hover:text-cyan-300 transition-colors",children:"Change Password"})]}),e.jsx("div",{className:"p-6",children:U?e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[O&&e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center space-x-3",children:[e.jsx(X,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400",children:O})]}),I&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-3",children:[e.jsx(A,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-400",children:I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c.current?"text":"password",name:"currentPassword",value:n.currentPassword,onChange:v,required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,current:!s.current})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:c.current?e.jsx(k,{className:"w-5 h-5"}):e.jsx(E,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c.new?"text":"password",name:"newPassword",value:n.newPassword,onChange:v,required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,new:!s.new})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:c.new?e.jsx(k,{className:"w-5 h-5"}):e.jsx(E,{className:"w-5 h-5"})})]}),a&&e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${a.strength==="strong"?"bg-green-500 w-full":a.strength==="good"?"bg-cyan-500 w-3/4":a.strength==="fair"?"bg-yellow-500 w-1/2":"bg-red-500 w-1/4"}`})}),e.jsx("span",{className:`text-sm font-medium capitalize ${a.strength==="strong"?"text-green-400":a.strength==="good"?"text-cyan-400":a.strength==="fair"?"text-yellow-400":"text-red-400"}`,children:a.strength})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-400",children:[e.jsxs("span",{className:a.requirements.minLength?"text-green-400":"",children:[a.requirements.minLength?"✓":"○"," At least 8 characters"]}),e.jsxs("span",{className:a.requirements.hasUppercase?"text-green-400":"",children:[a.requirements.hasUppercase?"✓":"○"," One uppercase letter"]}),e.jsxs("span",{className:a.requirements.hasLowercase?"text-green-400":"",children:[a.requirements.hasLowercase?"✓":"○"," One lowercase letter"]}),e.jsxs("span",{className:a.requirements.hasNumber?"text-green-400":"",children:[a.requirements.hasNumber?"✓":"○"," One number"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c.confirm?"text":"password",name:"confirmPassword",value:n.confirmPassword,onChange:v,required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border border-cyan-500/20 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,confirm:!s.confirm})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:c.confirm?e.jsx(k,{className:"w-5 h-5"}):e.jsx(E,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[e.jsxs("button",{type:"submit",disabled:d,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Changing...":"Change Password"})]}),e.jsx("button",{type:"button",onClick:()=>{f(!1),y({currentPassword:"",newPassword:"",confirmPassword:""}),o(null),h(null)},className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]}):e.jsx("p",{className:"text-gray-400",children:"Password last changed: Never"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-cyan-500/20 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-cyan-500/10 flex items-center space-x-3",children:[e.jsx(ee,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Session Information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Account Type"}),e.jsx("p",{className:"text-white font-medium capitalize",children:r.role||"Customer"})]}),e.jsxs("div",{className:"p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Member Since"}),e.jsx("p",{className:"text-white font-medium",children:r.createdAt?new Date(r.createdAt).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Last Updated"}),e.jsx("p",{className:"text-white font-medium",children:r.updatedAt?new Date(r.updatedAt).toLocaleDateString():"N/A"})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-black border border-red-500/20 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-red-500/10 flex items-center space-x-3",children:[e.jsx(D,{className:"w-5 h-5 text-red-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Delete Account"})]}),e.jsx("div",{className:"p-6",children:J?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[e.jsx("p",{className:"text-red-400 font-medium",children:"Are you sure you want to delete your account?"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This will permanently delete your account, and you will be logged out."})]}),F&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-3",children:[e.jsx(A,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-400",children:F})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Enter your password to confirm"}),e.jsx("input",{type:"password",value:u,onChange:s=>$(s.target.value),placeholder:"Your password",className:"w-full px-4 py-3 bg-gray-800/50 border border-red-500/20 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:V,disabled:d||!u,className:"flex items-center space-x-2 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Deleting...":"Confirm Delete"})]}),e.jsx("button",{onClick:()=>{z(!1),$(""),i(null)},className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300",children:"Permanently delete your account and all associated data."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This action cannot be undone."})]}),e.jsxs("button",{onClick:()=>z(!0),className:"flex items-center space-x-2 px-4 py-2 bg-red-500/10 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/20 transition-colors",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete Account"})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black pt-24 px-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-gradient-to-br from-gray-900 to-black border border-cyan-500/20 rounded-xl p-8 text-center",children:[e.jsx(C,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-400",children:"Please sign in to view and manage your account."})]})})}export{pe as default};
